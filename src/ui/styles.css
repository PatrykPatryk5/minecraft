/**
 * Minecraft-themed CSS — Full Edition
 * Includes: HUD, Main Menu, Inventory, Crafting, Settings, Hotbar, Debug, Pause
 */

@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

:root {
    --mc-accent: #e2b714;
    --mc-gray: #aaa;
    --mc-slot-bg: #555;
    --mc-slot-border: #373737;
    --mc-dark: #1a1a2e;
    --font: 'Press Start 2P', monospace;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    user-select: none;
}

#root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background: #000;
}

/* ================================================================
   LOADING SCREEN
   ================================================================ */
.loading-screen {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a0a1e 0%, #1a1a3e 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--mc-accent);
    font-family: var(--font);
    z-index: 5000;
    gap: 16px;
}

.loading-icon {
    font-size: 48px;
    animation: bounce 1s ease-in-out infinite;
}

@keyframes bounce {

    0%,
    100% {
        transform: translateY(0)
    }

    50% {
        transform: translateY(-10px)
    }
}

.loading-text {
    font-size: 12px;
}

.loading-bar {
    width: 300px;
    height: 8px;
    background: #333;
    border: 1px solid #555;
    overflow: hidden;
}

.loading-fill {
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, var(--mc-accent), #f5d020);
    animation: loadPulse 1.5s ease-in-out infinite;
}

@keyframes loadPulse {
    0% {
        transform: translateX(-100%)
    }

    100% {
        transform: translateX(100%)
    }
}

.loading-gpu {
    font-size: 7px;
    color: #666;
}

.loading-credits {
    margin-top: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    font-size: 8px;
    color: #d6d6d6;
    text-align: center;
    line-height: 1.6;
}

.loading-credits a {
    color: #8cc8ff;
    text-decoration: none;
}

.loading-credits a:hover {
    text-decoration: underline;
}

/* ================================================================
   MAIN MENU
   ================================================================ */
.main-menu {
    position: fixed;
    inset: 0;
    z-index: 4000;
    font-family: var(--font);
}

.menu-bg {
    position: absolute;
    inset: 0;
    background:
        radial-gradient(ellipse at 20% 50%, rgba(30, 60, 30, 0.6), transparent 60%),
        radial-gradient(ellipse at 80% 50%, rgba(30, 30, 60, 0.6), transparent 60%),
        linear-gradient(180deg, #0a1628 0%, #1a2a1a 30%, #2a3a2a 60%, #1a2a3a 100%);
    animation: menuBg 20s ease-in-out infinite alternate;
}

@keyframes menuBg {
    0% {
        filter: brightness(0.8) hue-rotate(0deg);
    }

    100% {
        filter: brightness(1.1) hue-rotate(15deg);
    }
}

.menu-content {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 40px;
}

.menu-title {
    text-align: center;
    margin-bottom: 40px;
    position: relative;
}

.menu-title h1 {
    font-size: 42px;
    letter-spacing: 4px;
    text-shadow: 4px 4px 0 #000, -1px -1px 0 #555;
}

.title-m {
    color: #4a4;
}

.title-i {
    color: #5b5;
}

.title-n {
    color: #6c6;
}

.title-e {
    color: #5a5;
}

.title-c {
    color: #4a4;
}

.title-r {
    color: #3b3;
}

.title-a {
    color: #4c4;
}

.title-f {
    color: #5a5;
}

.title-t {
    color: #6b6;
}

.subtitle {
    font-size: 10px;
    color: var(--mc-gray);
    margin-top: 8px;
    text-shadow: 1px 1px 0 #000;
}

.splash-text {
    position: absolute;
    right: -60px;
    top: 20px;
    font-size: 10px;
    color: #ff5;
    text-shadow: 2px 2px 0 #000;
    white-space: nowrap;
}

.menu-buttons {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    width: 340px;
}

.menu-row {
    display: flex;
    gap: 8px;
    width: 100%;
}

/* MC Buttons */
.mc-btn {
    display: block;
    width: 100%;
    padding: 12px 24px;
    font-family: var(--font);
    font-size: 10px;
    color: #ddd;
    background: linear-gradient(to bottom, #5a5a5a, #3a3a3a 40%, #2a2a2a 60%, #3a3a3a);
    border: 2px solid #000;
    outline: 2px solid #4a4a4a;
    cursor: pointer;
    text-shadow: 2px 2px 0 #222;
    transition: all .1s;
    text-align: center;
}

.mc-btn:hover:not(:disabled) {
    background: linear-gradient(to bottom, #6a6aff, #4a4aff 40%, #3a3aff 60%, #5a5aff);
    outline-color: #7a7aff;
    color: #fff;
}

.mc-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.mc-btn.primary {
    background: linear-gradient(to bottom, #4a7a4a, #3a5a3a 40%, #2a4a2a 60%, #3a5a3a);
    outline-color: #5a8a5a;
}

.mc-btn.primary:hover {
    background: linear-gradient(to bottom, #5aaa5a, #4a8a4a 40%, #3a7a3a 60%, #4a8a4a);
    outline-color: #6aba6a;
}

.mc-btn.half {
    flex: 1;
}

.menu-footer {
    position: absolute;
    bottom: 12px;
    display: flex;
    justify-content: space-between;
    width: calc(100% - 80px);
    font-size: 7px;
    color: #666;
}

.menu-credits {
    margin-top: 18px;
    text-align: center;
    font-size: 8px;
    line-height: 1.7;
    color: #d6d6d6;
    text-shadow: 1px 1px 0 #000;
}

.menu-credits a {
    color: #8cc8ff;
    text-decoration: none;
}

.menu-credits a:hover {
    text-decoration: underline;
}

.menu-disclaimer {
    position: absolute;
    bottom: 4px;
    font-size: 6px;
    color: #444;
    text-align: center;
    width: 100%;
    pointer-events: none;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* ─── Screen Title ────────────────────────────────── */
.screen-title {
    font-size: 16px;
    color: #fff;
    margin-bottom: 30px;
    text-shadow: 2px 2px 0 #000;
}

/* ─── Forms ───────────────────────────────────────── */
.form-group {
    margin-bottom: 16px;
    width: 340px;
    text-align: left;
}

.form-group label {
    display: block;
    font-size: 8px;
    color: var(--mc-gray);
    margin-bottom: 6px;
}

.mc-input {
    width: 100%;
    padding: 10px 14px;
    font-family: var(--font);
    font-size: 9px;
    background: #333;
    border: 2px solid #555;
    color: #fff;
    outline: none;
}

.mc-input:focus {
    border-color: var(--mc-accent);
}

.mc-search-input {
    background: #2a2a2a;
    border: 2px solid #555;
    color: #fff;
    font-family: var(--font);
    font-size: 8px;
    padding: 6px 10px;
    width: 150px;
    outline: none;
    transition: all 0.1s;
}

.mc-search-input:focus {
    border-color: var(--mc-accent);
    background: #333;
    width: 180px;
}

.mode-selector {
    display: flex;
    gap: 4px;
}

.mode-btn {
    flex: 1;
    padding: 8px;
    font-family: var(--font);
    font-size: 7px;
    background: #444;
    border: 2px solid #555;
    color: #aaa;
    cursor: pointer;
    text-align: center;
    transition: all .1s;
}

.mode-btn.active {
    border-color: var(--mc-accent);
    color: #fff;
    background: #555;
    box-shadow: inset 0 0 8px rgba(226, 183, 20, .2);
}

.mode-btn:hover {
    border-color: #888;
    color: #ddd;
}

.mode-desc {
    font-size: 7px;
    color: #888;
    margin-top: 6px;
    padding: 6px;
    background: rgba(0, 0, 0, .3);
}

/* ─── Settings Grid ───────────────────────────────── */
.settings-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 440px;
    max-height: 65vh;
    overflow-y: auto;
    padding-right: 12px;
    margin-bottom: 24px;
}

/* Custom Minecraft Scrollbar */
.settings-grid::-webkit-scrollbar {
    width: 8px;
}

.settings-grid::-webkit-scrollbar-track {
    background: #1e1e1e;
    border: 1px solid #333;
}

.settings-grid::-webkit-scrollbar-thumb {
    background: #7a7a7a;
    border: 2px solid #333;
    outline: 1px solid #555;
}

.settings-grid::-webkit-scrollbar-thumb:hover {
    background: #8e8e8e;
}

.setting-item {
    padding: 10px;
    background: rgba(0, 0, 0, .3);
    border: 1px solid #444;
}

.setting-item label {
    display: block;
    font-size: 8px;
    color: var(--mc-gray);
    margin-bottom: 6px;
}

.setting-item strong {
    color: var(--mc-accent);
}

.setting-item input[type="checkbox"] {
    margin-right: 6px;
}

/* ================================================================
   HUD
   ================================================================ */
.hud {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 100;
    font-family: var(--font);
}

.crosshair {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.crosshair-h,
.crosshair-v {
    position: absolute;
    background: rgba(255, 255, 255, .85);
}

.crosshair-h {
    width: 22px;
    height: 2px;
    top: -1px;
    left: -11px;
}

.crosshair-v {
    width: 2px;
    height: 22px;
    top: -11px;
    left: -1px;
}

/* Click to play */
.click-to-play {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .7);
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    z-index: 200;
}

.click-to-play .start-box {
    pointer-events: auto;
    /* Box remains interactable if needed, but clicks on overlay pass through */
}

.start-box {
    text-align: center;
    color: #fff;
    padding: 40px 60px;
    background: rgba(0, 0, 0, .7);
    border: 3px solid var(--mc-accent);
    border-radius: 4px;
}

.start-box h1 {
    font-size: 24px;
    color: var(--mc-accent);
    margin-bottom: 16px;
    text-shadow: 3px 3px 0 #000;
}

.start-box p {
    font-size: 12px;
    color: var(--mc-gray);
    margin-bottom: 24px;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1
    }

    50% {
        opacity: .4
    }
}

.controls-help {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
    font-size: 8px;
    color: var(--mc-gray);
}

.controls-help span {
    padding: 4px 8px;
    background: rgba(255, 255, 255, .06);
    border-radius: 2px;
}

/* ─── Hotbar ──────────────────────────────────────── */
.hotbar {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 2px;
    background: rgba(0, 0, 0, .55);
    padding: 4px;
    border-radius: 2px;
    border: 2px solid var(--mc-slot-border);
    pointer-events: auto;
}

.hotbar-slot {
    width: 48px;
    height: 48px;
    background: var(--mc-slot-bg);
    border: 2px solid var(--mc-slot-border);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
    transition: border-color .1s;
}

.hotbar-slot.selected {
    border-color: var(--mc-accent);
    box-shadow: 0 0 10px rgba(226, 183, 20, .5);
}

.hotbar-slot:hover {
    border-color: #888;
}

.block-icon {
    width: 32px;
    height: 32px;
    border-radius: 2px;
    image-rendering: pixelated;
}

/* 3D Isometric Block Icons */
.block-icon-3d {
    width: 36px;
    height: 36px;
    image-rendering: pixelated;
    pointer-events: none;
    user-select: none;
    filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.3));
}

.block-icon-3d.small {
    width: 24px;
    height: 24px;
}

.block-icon-3d.large {
    width: 42px;
    height: 42px;
}

.heart.empty,
.drumstick.empty {
    opacity: 0.25;
    filter: grayscale(1);
}

.slot-number {
    position: absolute;
    bottom: 1px;
    right: 3px;
    font-size: 7px;
    color: rgba(255, 255, 255, .35);
    font-family: var(--font);
}

.slot-name {
    position: absolute;
    bottom: -18px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 6px;
    color: #fff;
    white-space: nowrap;
    text-shadow: 1px 1px 0 #000;
    font-family: var(--font);
}

/* ─── Item Count Badge ────────────────────────────── */
.item-count {
    position: absolute;
    bottom: 2px;
    right: 4px;
    font-size: 7px;
    color: #fff;
    font-family: var(--font);
    text-shadow: 1px 1px 0 #000;
    z-index: 1;
    pointer-events: none;
}

.inv-slot.droppable:hover {
    border-color: #5f5;
    box-shadow: inset 0 0 6px rgba(85, 255, 85, .3);
}

/* ─── Status Bars ─────────────────────────────────── */
.status-bars {
    position: absolute;
    bottom: 66px;
    left: 50%;
    transform: translateX(-50%);
}

.bar-row {
    display: flex;
    gap: 40px;
}

.hearts,
.hunger {
    display: flex;
    gap: 1px;
}

.heart {
    font-size: 10px;
    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, .8));
    text-shadow: 0 0 3px #f00;
}

.drumstick {
    font-size: 10px;
    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, .8));
}

/* ─── Debug ───────────────────────────────────────── */
.debug-screen {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 150;
    font-family: var(--font);
}

.debug-left {
    position: absolute;
    top: 8px;
    left: 8px;
}

.debug-left p {
    font-size: 7px;
    color: #fff;
    background: rgba(0, 0, 0, .45);
    padding: 2px 6px;
    margin-bottom: 1px;
    text-shadow: 1px 1px 0 #000;
    line-height: 1.8;
}

.debug-left strong {
    color: var(--mc-accent);
}

/* ─── Pause Menu ──────────────────────────────────── */
.pause-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 300;
    font-family: var(--font);
}


/* Slider */
.mc-slider {
    width: 100%;
    -webkit-appearance: none;
    appearance: none;
    height: 8px;
    background: #3a3a3a;
    border: 1px solid #555;
    outline: none;
}

.mc-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 20px;
    background: linear-gradient(to bottom, #8a8a8a, #5a5a5a);
    border: 2px solid #333;
    cursor: pointer;
}

.mc-slider::-webkit-slider-thumb:hover {
    background: linear-gradient(to bottom, #7a7aff, #4a4aff);
}

/* ─── New Pause Panel (LAN, settings, compact) ─────── */
.pause-panel {
    background: rgba(20, 20, 40, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 2px solid rgba(255, 255, 255, 0.12);
    border-radius: 6px;
    padding: 28px 32px;
    min-width: 380px;
    max-width: 440px;
    max-height: 85vh;
    overflow-y: auto;
    text-align: center;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.08);
    animation: panelSlideIn 0.2s ease-out;
}

@keyframes blink {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0.3;
    }

    100% {
        opacity: 1;
    }
}

@keyframes fade-out {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes panelSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.pause-panel h2 {
    font-size: 16px;
    color: #fff;
    margin-bottom: 16px;
    text-shadow: 2px 2px 0 #000;
    letter-spacing: 2px;
}

.pause-panel .mc-btn {
    margin-bottom: 6px;
}

.pause-panel .mc-btn.active {
    background: linear-gradient(to bottom, #4a7a4a, #3a5a3a 40%, #2a4a2a 60%, #3a5a3a);
    outline-color: #5a8a5a;
    box-shadow: 0 0 12px rgba(80, 200, 80, 0.3);
}

/* Settings compact layout */
.settings-compact {
    margin: 12px 0;
    padding: 12px 14px;
    background: rgba(0, 0, 0, 0.35);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 4px;
    text-align: left;
}

.setting-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 8px;
    font-size: 8px;
    color: #bbb;
}

.setting-row:last-child {
    margin-bottom: 0;
}

.setting-row span {
    white-space: nowrap;
}

.setting-row strong {
    color: var(--mc-accent);
}

.setting-row .mc-slider {
    flex: 1;
    min-width: 80px;
}

.setting-row label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 8px;
    color: #bbb;
}

/* Compact mode selector (for pause menu) */
.mode-selector.compact {
    display: flex;
    gap: 2px;
}

.mode-btn.sm {
    padding: 4px 8px;
    font-size: 10px;
    min-width: 32px;
    border-radius: 2px;
}

/* LAN info panel */
.pause-panel code {
    font-family: 'Courier New', monospace;
    background: rgba(255, 255, 255, 0.1);
    padding: 1px 4px;
    border-radius: 2px;
    font-size: 8px;
    color: var(--mc-accent);
}

/* Scrollbar for pause panel */
.pause-panel::-webkit-scrollbar {
    width: 4px;
}

.pause-panel::-webkit-scrollbar-track {
    background: transparent;
}

.pause-panel::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 2px;
}

/* ================================================================
   INVENTORY
   ================================================================ */
.inventory-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 400;
    font-family: var(--font);
}

.inventory-window {
    background: #3a3a3a;
    border: 3px solid #555;
    padding: 24px;
    min-width: 460px;
    text-align: center;
}

.inventory-window h3 {
    font-size: 12px;
    color: var(--mc-accent);
    margin-bottom: 16px;
    text-shadow: 2px 2px 0 #000;
}

.inv-section-label {
    font-size: 8px;
    color: var(--mc-gray);
    text-align: left;
    margin: 12px 0 6px;
}

.inv-grid {
    display: grid;
    grid-template-columns: repeat(9, 1fr);
    gap: 2px;
}

.inv-hotbar {
    display: flex;
    gap: 2px;
}

.inv-slot {
    width: 42px;
    height: 42px;
    background: var(--mc-slot-bg);
    border: 2px solid var(--mc-slot-border);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
    transition: all .1s;
}

.inv-slot:hover {
    border-color: #aaa;
}

.inv-slot.selected {
    border-color: var(--mc-accent);
    box-shadow: inset 0 0 8px rgba(226, 183, 20, .3);
}

.inv-slot.held {
    border-color: #5f5;
    box-shadow: 0 0 8px rgba(85, 255, 85, .5);
}

.inv-slot .block-icon {
    width: 28px;
    height: 28px;
}

.holding-info {
    font-size: 8px;
    color: #5f5;
    margin: 8px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.holding-info strong {
    color: #fff;
}

.drop-btn {
    background: #a33;
    color: #fff;
    border: 1px solid #f55;
    font-family: var(--font);
    font-size: 8px;
    padding: 2px 6px;
    cursor: pointer;
}

.drop-btn:hover {
    background: #c44;
}

.inv-hint {
    font-size: 7px;
    color: #888;
    margin-top: 12px;
}

/* ================================================================
   CRAFTING
   ================================================================ */
.crafting-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 450;
    font-family: var(--font);
}

.crafting-window {
    background: #3a3a3a;
    border: 3px solid #555;
    padding: 24px;
    min-width: 500px;
    text-align: center;
}

.crafting-window h3 {
    font-size: 12px;
    color: var(--mc-accent);
    margin-bottom: 16px;
    text-shadow: 2px 2px 0 #000;
}

.crafting-layout {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin-bottom: 20px;
}

.crafting-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2px;
}

.craft-slot {
    width: 48px;
    height: 48px;
    background: var(--mc-slot-bg);
    border: 2px solid var(--mc-slot-border);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all .1s;
}

.craft-slot.filled {
    border-color: var(--mc-accent);
}

.craft-slot:hover {
    border-color: #888;
}

.craft-arrow {
    font-size: 24px;
    color: var(--mc-gray);
}

.craft-result {
    width: 60px;
    height: 60px;
    background: var(--mc-slot-bg);
    border: 3px solid var(--mc-slot-border);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

.craft-result.has-result {
    border-color: #4f4;
    cursor: pointer;
    box-shadow: 0 0 12px rgba(0, 255, 0, .3);
    animation: resultPulse 1s ease-in-out infinite alternate;
}

@keyframes resultPulse {
    0% {
        box-shadow: 0 0 8px rgba(0, 255, 0, .2);
    }

    100% {
        box-shadow: 0 0 16px rgba(0, 255, 0, .5);
    }
}

.result-count {
    position: absolute;
    bottom: 2px;
    right: 4px;
    font-size: 7px;
    color: #fff;
    font-family: var(--font);
}

.result-name {
    position: absolute;
    bottom: -16px;
    font-size: 6px;
    color: #ccc;
    white-space: nowrap;
}

.no-result {
    font-size: 18px;
    color: #555;
}

.craft-palette-label {
    font-size: 7px;
    color: #888;
    margin: 8px 0 4px;
    text-align: left;
}

.craft-palette {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 2px;
    max-height: 120px;
    overflow-y: auto;
    margin-bottom: 12px;
}

.palette-slot {
    width: 32px;
    height: 32px;
    background: #444;
    border: 1px solid #555;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: border-color .1s;
}

.palette-slot:hover {
    border-color: var(--mc-accent);
}

.palette-slot .block-icon {
    width: 22px;
    height: 22px;
}

.recipe-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 4px;
    max-height: 100px;
    overflow-y: auto;
    margin-bottom: 12px;
}

.recipe-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    background: #444;
    border: 1px solid #555;
    cursor: pointer;
    font-size: 7px;
    color: #ccc;
    transition: all .1s;
}

.recipe-item:hover {
    border-color: var(--mc-accent);
    color: #fff;
}

.recipe-item .block-icon.small {
    width: 18px;
    height: 18px;
    min-width: 18px;
}

/* ================================================================
   2x2 INVENTORY CRAFTING
   ================================================================ */
.inv-crafting-section {
    border: 1px solid #555;
    border-radius: 2px;
    padding: 10px;
    margin-bottom: 12px;
    background: rgba(0, 0, 0, 0.2);
}

.inv-crafting-layout {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin: 8px 0;
}

.inv-crafting-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2px;
}

.craft-result.small {
    width: 48px;
    height: 48px;
}

/* Mini palette (for 2x2 crafting in inventory) */
.craft-palette.mini {
    grid-template-columns: repeat(10, 1fr);
    max-height: 80px;
    margin-bottom: 4px;
}

/* ================================================================
   FURNACE
   ================================================================ */
.furnace-window {
    min-width: 420px;
}

.furnace-layout {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin: 16px 0;
}

.furnace-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

.furnace-slot {
    width: 52px;
    height: 52px;
}

.furnace-slot.output {
    width: 56px;
    height: 56px;
}

.furnace-progress {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.furnace-fire {
    font-size: 24px;
    transition: opacity 0.3s;
    animation: firePulse 0.5s ease-in-out infinite alternate;
}

@keyframes firePulse {
    0% {
        transform: scale(1);
    }

    100% {
        transform: scale(1.15);
    }
}

.furnace-bar-container {
    width: 60px;
    height: 8px;
    background: #333;
    border: 1px solid #555;
    border-radius: 1px;
    overflow: hidden;
}

.furnace-bar {
    height: 100%;
    background: linear-gradient(to right, #e2b714, #ff6600);
    transition: width 0.05s linear;
}

.item-count {
    position: absolute;
    bottom: 1px;
    right: 3px;
    font-size: 7px;
    color: #fff;
    font-weight: bold;
    text-shadow: 1px 1px 1px #000;
    font-family: var(--font);
    pointer-events: none;
}

/* ================================================================
   MODE INDICATOR
   ================================================================ */
.mode-indicator {
    position: fixed;
    top: 8px;
    right: 8px;
    font-family: var(--font);
    font-size: 8px;
    color: var(--mc-accent);
    background: rgba(0, 0, 0, .4);
    padding: 4px 10px;
    z-index: 110;
    text-shadow: 1px 1px 0 #000;
    pointer-events: none;
}

/* ================================================================
   UNDERWATER OVERLAY
   ================================================================ */
.water-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(10, 40, 120, 0.35);
    pointer-events: none;
    z-index: 90;
    animation: water-pulse 3s ease-in-out infinite;
}

@keyframes water-pulse {

    0%,
    100% {
        background: rgba(10, 40, 120, 0.35);
    }

    50% {
        background: rgba(10, 50, 140, 0.30);
    }
}

/* ================================================================
   CHAT
   ================================================================ */
.chat-container {
    position: fixed;
    bottom: 54px;
    left: 4px;
    width: min(500px, 50vw);
    z-index: 130;
    pointer-events: none;
    font-family: var(--font);
    font-size: 8px;
}

.chat-container.chat-open {
    pointer-events: auto;
}

.chat-messages {
    max-height: 200px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    padding: 2px;
}

.chat-messages::-webkit-scrollbar {
    display: none;
}

.chat-open .chat-messages {
    background: rgba(0, 0, 0, 0.45);
    max-height: 220px;
}

.chat-msg {
    padding: 2px 4px;
    line-height: 1.4;
    word-break: break-word;
    text-shadow: 1px 1px 0 #000;
}

.chat-msg.chat-info {
    color: #ddd;
}

.chat-msg.chat-error {
    color: #ff5555;
}

.chat-msg.chat-success {
    color: #55ff55;
}

.chat-msg.chat-system {
    color: #ffaa00;
}

.chat-msg.chat-player {
    color: #fff;
}

.chat-input-form {
    margin-top: 2px;
}

.chat-input {
    width: 100%;
    background: rgba(0, 0, 0, 0.65);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: #fff;
    font-family: var(--font);
    font-size: 8px;
    padding: 4px 6px;
    outline: none;
}

.chat-input::placeholder {
    color: rgba(255, 255, 255, 0.3);
}

.chat-input:focus {
    border-color: rgba(255, 255, 255, 0.3);
}

/* ================================================================
   DEATH SCREEN
   ================================================================ */
.death-overlay {
    position: fixed;
    inset: 0;
    background: rgba(80, 0, 0, 0.6);
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font);
    cursor: default;
}

.death-content {
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: center;
}

.death-title {
    font-size: 32px;
    color: #fff;
    text-shadow: 2px 2px 0 #000;
    margin: 0;
}

.death-score {
    font-size: 10px;
    color: #ffaa00;
    margin-bottom: 20px;
}

.death-buttons {
    display: flex;
    flex-direction: column;
    gap: 8px;
    width: 200px;
}

/* ================================================================
   XP BAR
   ================================================================ */
.xp-bar-container {
    grid-column: 1 / -1;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 2px;
}

.xp-bar {
    width: 182px;
    height: 5px;
    background: #000;
    border: 1px solid #333;
    position: relative;
}

.xp-bar-fill {
    height: 100%;
    background: #80ff20;
    box-shadow: inset 0 1px 0 #aaff50, inset 0 -1px 0 #408010;
}

.xp-level {
    color: #80ff20;
    font-size: 10px;
    text-shadow: 1px 1px 0 #000;
    margin-top: -14px;
    z-index: 10;
}

/* ================================================================
   OXYGEN BAR
   ================================================================ */
.oxygen-bar-container {
    position: absolute;
    right: 0;
    top: -12px;
    display: flex;
    justify-content: flex-end;
}

.oxygen-bar {
    display: flex;
    flex-direction: row-reverse;
    /* Right to left */
    gap: -1px;
}

.bubble {
    font-size: 9px;
    width: 9px;
    text-shadow: 1px 1px 0 #000;
}

.bubble.partial {
    opacity: 0.7;
}

.bubble.empty {
    opacity: 0;
}

/* ================================================================
   VIGNETTE EFFECT
   ================================================================ */
.vignette {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(ellipse at center, transparent 55%, rgba(0, 0, 0, 0.45) 100%);
    z-index: 1;
}

/* ================================================================
   Z-INDEX STACKING
   ================================================================ */
.hud {
    z-index: 10;
}

.chat-container {
    z-index: 15;
}

.inventory-window,
.crafting-window,
.furnace-window {
    z-index: 100;
}

.pause-overlay {
    z-index: 200;
}

.death-screen {
    z-index: 300;
}

.debug-screen {
    z-index: 50;
}

/* ================================================================
   OVERLAY BACKDROP POLISH
   ================================================================ */
.inventory-window,
.crafting-window,
.furnace-window {
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.65), inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

/* ================================================================
   IMPROVED SLOT HOVER EFFECTS
   ================================================================ */
.hotbar-slot:hover {
    border-color: var(--mc-accent);
    transform: scale(1.08);
    transition: transform 0.08s;
}

.inv-slot:hover,
.craft-slot:hover {
    border-color: #fff;
    background: rgba(255, 255, 255, 0.1);
}

.inv-armor-section {
    display: flex;
    flex-direction: column;
    width: 60px;
}

.inv-armor-grid {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.armor-slot {
    width: 52px;
    height: 52px;
    background: rgba(0, 0, 0, 0.4);
    border: 2px solid #555;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    position: relative;
}

.armor-slot:hover {
    background: rgba(255, 255, 255, 0.1);
}

.armor-placeholder {
    width: 32px;
    height: 32px;
    opacity: 0.3;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.armor-placeholder.helmet {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm0 16.9c-2.92-.91-5.32-4.14-5.88-7.9H12v7.9z"/></svg>');
}

.armor-placeholder.chestplate {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M21 5l-9-4-9 4v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"/></svg>');
}

.armor-placeholder.leggings {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 2L4 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 18c-3.11-.9-5.66-4.22-6-8h12c-.34 3.78-2.89 7.1-6 8z"/></svg>');
}

.armor-placeholder.boots {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 2L4 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm1 16h-2v-2h2v2zm0-4h-2V7h2v7z"/></svg>');
}